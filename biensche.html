<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Bienen & BlÃ¼mchen</title>
<style>
body {
  margin: 0;
  font-family: monospace;
  background: #def7e5;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
}
#gameContainer {
  background: #fff;
  border: 3px solid #4caf50;
  border-radius: 12px;
  padding: 20px;
  width: 400px;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
}
#plantDisplay {
  text-align: center;
  font-size: 24px;
  margin-bottom: 10px;
}
button {
  padding: 10px 15px;
  margin: 5px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 5px;
  border: 1px solid #4caf50;
  background: #a8e6a2;
}
#log {
  background: #f0fff0;
  border: 1px solid #4caf50;
  padding: 8px;
  margin-top: 10px;
  max-height: 200px;
  overflow-y: auto;
  font-size: 14px;
}
#miniGameArea {
  margin-top: 10px;
  text-align: center;
  position: relative;
  height: 50px;
}
.bee {
  font-size: 24px;
  position: absolute;
  cursor: pointer;
}
</style>
</head>
<body>
<div id="gameContainer">
  <div id="plantDisplay">ğŸŒ±</div>
  <div>
    <button id="waterBtn">ğŸ’§ GieÃŸen</button>
    <button id="sunBtn">â˜€ï¸ Sonne geben</button>
    <button id="miniGameBtn">ğŸ•¹ï¸ Mini-Spiel</button>
    <button id="saveBtn">ğŸ’¾ Speichern</button>
    <button id="loadBtn">ğŸ“‚ Laden</button>
  </div>
  <div id="miniGameArea"></div>
  <div id="log"></div>
</div>
<script>
const plantDisplay = document.getElementById('plantDisplay');
const logDiv = document.getElementById('log');
const miniGameArea = document.getElementById('miniGameArea');

let plant = {name: 'Mein PflÃ¤nzchen', health: 5, size: 0};
const PLANT_STAGES = ['ğŸŒ±','ğŸŒ¿','ğŸŒ³','ğŸŒº','ğŸŒ¸'];
const FUN_EVENTS = [
  'Eine freche Biene stiehlt Nektar! ğŸ˜¹',
  'Dein PflÃ¤nzchen macht einen kleinen Freudentanz! ğŸ’ƒ',
  'Ein Schmetterling landet auf den BlÃ¤ttern! ğŸ¦‹',
  'Die Sonne blinzelt schelmisch! ğŸŒ',
  'Eine Schnecke macht ein Nickerchen auf deinem PflÃ¤nzchen. ğŸŒ'
];

function logEvent(text){
  const p = document.createElement('div');
  p.textContent = text;
  logDiv.appendChild(p);
  logDiv.scrollTop = logDiv.scrollHeight;
}

function updatePlant(){
  plantDisplay.textContent = PLANT_STAGES[plant.size];
}

function waterPlant(){
  logEvent(`ğŸ’§ Du gieÃŸt ${plant.name}`);
  plant.health++;
  growPlant();
}

function sunPlant(){
  logEvent(`â˜€ï¸ Du gibst ${plant.name} Sonne`);
  plant.health++;
  growPlant();
}

function growPlant(){
  if(plant.health > 5 && plant.size < PLANT_STAGES.length-1){
    plant.size++;
    plant.health = 5;
    logEvent(`ğŸŒ¿ ${plant.name} wÃ¤chst!`);
  }
  updatePlant();
}

function randomEvent(){
  if(Math.random()<0.5){
    const e = FUN_EVENTS[Math.floor(Math.random()*FUN_EVENTS.length)];
    logEvent(`ğŸ‰ Zufallsevent: ${e}`);
    if(e.includes('Biene') || e.includes('Schmetterling')) plant.health++;
    if(e.includes('Freudentanz')) growPlant();
  }
}

function savePlant(){
  localStorage.setItem('plantSave', JSON.stringify(plant));
  logEvent('ğŸ’¾ Fortschritt gespeichert!');
}

function loadPlant(){
  const data = JSON.parse(localStorage.getItem('plantSave'));
  if(data){
    plant = data;
    updatePlant();
    logEvent('ğŸ“‚ Spielstand geladen!');
  }else{
    logEvent('âŒ Kein Spielstand gefunden');
  }
}

function miniGame(){
  miniGameArea.innerHTML = '';
  const bee = document.createElement('span');
  bee.textContent = 'ğŸ';
  bee.className = 'bee';
  bee.style.left = Math.random()*350+'px';
  miniGameArea.appendChild(bee);

  function catchBee(){
    logEvent(`ğŸ‰ Super! ${plant.name} bekommt extra Nektar!`);
    plant.health += 2;
    growPlant();
    miniGameArea.innerHTML = '';
  }

  bee.addEventListener('click', catchBee);

  setTimeout(()=>{
    miniGameArea.innerHTML = '';
    logEvent('ğŸ˜… Die Biene ist weg!');
  },3000);
}

document.getElementById('waterBtn').addEventListener('click', ()=>{waterPlant(); randomEvent();});
document.getElementById('sunBtn').addEventListener('click', ()=>{sunPlant(); randomEvent();});
document.getElementById('miniGameBtn').addEventListener('click', miniGame);
document.getElementById('saveBtn').addEventListener('click', savePlant);
document.getElementById('loadBtn').addEventListener('click', loadPlant);

updatePlant();
</script>
</body>
</html>
